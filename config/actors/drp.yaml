drp: &DRP
  listen:
    interface: shell2-ics

  engine: &ENGINE

    butler: &BUTLER
      datastore: /work/datastore
      raw: PFS/raw/sps
      pfsConfig: PFS/raw/pfsConfig
      input: PFS/defaults
      output: drpActor/reductions

    pipeline: &PIPE
      yaml: pipelines/hilo.yaml

    ingest: &INGEST
      mode: copy     # copy|link

    execution: &EXEC
      numProc: 16          # process-level parallelism (quanta in parallel)
      taskThreads: 1       # threads per quantum (keep 1 if OMP/BLAS set to 1)
      clobberOutput: true

    lsstLog:
      level: 10 # logging.DEBUG=10   logging.INFO=20   logging=WARNING 30
      long_log: False

    detrendCallback: &CB
      activated: false
      useSilentThread: true
      waitInterval: 2
      timeout: 180

  H:
    engine:
      <<: *ENGINE

  S:
    engine:
      <<: *ENGINE
      butler:
        <<: *BUTLER
        datastore: /data/drp/datastore
      ingest:
        <<: *INGEST
        mode: link
      pipeline:
        <<: *PIPE
        yaml: pipelines/summit.yaml
      execution:
        <<: *EXEC
        numProc: 10

      detrendCallback:
        <<: *CB
        activated: true

drp2:
  <<: *DRP
  tron:
    host: 133.40.164.64
  listen:
    interface: pfsa-usr03
    port: 10000
  logging:
    logdir: /work/mhs/logs/actors/drp2
